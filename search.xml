<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Linux Commands</title>
      <link href="posts/1c8267d6.html"/>
      <url>posts/1c8267d6.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux-Commands"><a href="#Linux-Commands" class="headerlink" title="Linux Commands"></a>Linux Commands</h1><p>本文参考 <a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/index.html">Linuxtools-rst</a>， 系统学习请移步。供个人使用。</p><h2 id="帮助"><a href="#帮助" class="headerlink" title="帮助"></a>帮助</h2><ul><li>man -k cmd_key_word 仅记得命令部分关键词 cmd_key_word</li><li>whatis command 简要命令说明</li><li>info command 更详细命令说明</li><li>man [1-9] command 最详细命令命令</li><li>which command 查看命令路径</li><li>whereis command 在环境变量PATH中搜索命令位置</li></ul><pre class="line-numbers language-text" data-language="text"><code class="language-text">$ man manman 1 用户级命令man 2 系统级命令man 3 常用函数及数据库man 4 设备文件说明man 5 文件格式规范man 6 游戏man 7 杂项（包括宏包和规范）man 8 系统管理命令man 9 内核相关文件<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux-tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux-tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ArchLinux to Go</title>
      <link href="posts/5e40c067.html"/>
      <url>posts/5e40c067.html</url>
      
        <content type="html"><![CDATA[<h1 id="U盘搭建移动linux工作站"><a href="#U盘搭建移动linux工作站" class="headerlink" title="U盘搭建移动linux工作站"></a>U盘搭建移动linux工作站</h1><p>Archlinux安装在U盘中，pc/laptop通过U盘启动，进入archlinux实现移动办公，不需要数据同步。本文用于参考移动工作站使能。</p><ol><li>通过虚拟机光驱加载iso启动，进入live环境</li><li>U盘挂载到主机，在虚拟机内部进行读写</li><li>参考官方指导进行系统安装</li></ol><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">U盘</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> USB3.0    <span class="token key atrule">size</span><span class="token punctuation">:</span> 256GB<span class="token key atrule">archlinux镜像</span><span class="token punctuation">:</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//mirrors.163.com/archlinux/iso/2021.02.01/archlinux<span class="token punctuation">-</span>2021.02.01<span class="token punctuation">-</span>x86_64.iso<span class="token key atrule">host安装VirtualBox</span><span class="token punctuation">:</span>    <span class="token key atrule">host</span><span class="token punctuation">:</span>        <span class="token key atrule">os</span><span class="token punctuation">:</span> fedora33 x64    <span class="token key atrule">VirtualBox</span><span class="token punctuation">:</span>        <span class="token key atrule">要求</span><span class="token punctuation">:</span> 以root用户或管理员运行        <span class="token key atrule">url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//download.virtualbox.org/virtualbox/6.1.18/VirtualBox<span class="token punctuation">-</span>6.1<span class="token punctuation">-</span>6.1.18_142142_fedora32<span class="token punctuation">-</span>1.x86_64.rpm        <span class="token key atrule">extension-url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//download.virtualbox.org/virtualbox/6.1.18/Oracle_VM_VirtualBox_Extension_Pack<span class="token punctuation">-</span>6.1.18.vbox<span class="token punctuation">-</span>extpack<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><h3 id="U盘"><a href="#U盘" class="headerlink" title="U盘"></a>U盘</h3><p>选择USB2.0及以上的接口，空间不小于16GB。</p><h3 id="linux镜像"><a href="#linux镜像" class="headerlink" title="linux镜像"></a>linux镜像</h3><p>debian/ubuntu/archlinux自己选择，仅凭自己能力和兴趣。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> -c http://mirrors.163.com/archlinux/iso/2021.02.01/archlinux-2021.02.01-x86_64.iso<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="VirtualBox-Extension安装"><a href="#VirtualBox-Extension安装" class="headerlink" title="VirtualBox + Extension安装"></a>VirtualBox + Extension安装</h3><h4 id="VirtualBox安装"><a href="#VirtualBox安装" class="headerlink" title="VirtualBox安装"></a>VirtualBox安装</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dnf <span class="token function">install</span> -y VirtualBox-6.1.18-1.fc33.x86_64<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>or</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> -c https://download.virtualbox.org/virtualbox/6.1.18/VirtualBox-6.1-6.1.18_142142_fedora32-1.x86_64.rpm<span class="token function">rpm</span> -ivh VirtualBox-6.1-6.1.18_142142_fedora32-1.x86_64.rpm<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>这里fedora32版本不影响。</p><h4 id="Extension安装"><a href="#Extension安装" class="headerlink" title="Extension安装"></a>Extension安装</h4><p>文件管理器双击或VirtualBox导入即可安装。</p><h2 id="启动live环境"><a href="#启动live环境" class="headerlink" title="启动live环境"></a>启动live环境</h2><h3 id="创建U盘虚拟盘文件"><a href="#创建U盘虚拟盘文件" class="headerlink" title="创建U盘虚拟盘文件"></a>创建U盘虚拟盘文件</h3><p>插入U盘，系统识别并自动挂载设备</p><pre class="line-numbers language-text" data-language="text"><code class="language-text"># lsblk NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTsdc           8:32   1   231G  0 disk └─sdc1        8:33   1   231G  0 part /run/media/angusrobot/KINGSTON<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>创建U盘虚拟盘文件usb.vmdk到当前路径</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">vboxmanage internalcommands createrawvmdk -filename usb.vmdk -rawdisk /dev/sdc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="创建并运行虚拟机"><a href="#创建并运行虚拟机" class="headerlink" title="创建并运行虚拟机"></a>创建并运行虚拟机</h3><p>VirtualBox创建虚拟机</p><ol><li>光驱设备加载iso镜像</li><li>硬盘设备指定到usb.vmdk（这里要求VirtualBox要以root权限运行）</li><li>设置启动顺序：光驱-&gt;硬盘</li><li>启动虚拟机</li></ol><h3 id="进入live环境"><a href="#进入live环境" class="headerlink" title="进入live环境"></a>进入live环境</h3><p>启动虚拟机后，选择 Arch Linux install medium 进入安装环境。<br>将以root身份登入zsh。后续参考官网对系统进行定制安装。</p><h2 id="archlinux定制"><a href="#archlinux定制" class="headerlink" title="archlinux定制"></a>archlinux定制</h2><h3 id="确保主机已联网"><a href="#确保主机已联网" class="headerlink" title="确保主机已联网"></a>确保主机已联网</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ip</span> <span class="token function">link</span><span class="token function">ping</span> archlinux.org<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="更新系统时间"><a href="#更新系统时间" class="headerlink" title="更新系统时间"></a>更新系统时间</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">timedatectl set-ntp <span class="token boolean">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="硬盘分区并格式化"><a href="#硬盘分区并格式化" class="headerlink" title="硬盘分区并格式化"></a>硬盘分区并格式化</h3><p>可以在主机上执行，也可以在虚拟机中执行。根据提示设置，创建根分区及交换分区。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">fdisk</span> /dev/sdc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">p命令回显设备       启动      起点      末尾      扇区  大小 Id 类型/dev/sdc1            2048 467666943 467664896  223G 83 Linux/dev/sdc2       467666944 484519679  16852736    8G 82 Linux swap / Solaris<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">mkfs.ext4 /dev/sdc1<span class="token function">mkswap</span> /dev/sdc2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="挂载分区"><a href="#挂载分区" class="headerlink" title="挂载分区"></a>挂载分区</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mount</span> /dev/sdc1 /mnt<span class="token function">swapon</span> /dev/sdc2 <span class="token comment"># 后续生成fstab使用</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="安装基础软件"><a href="#安装基础软件" class="headerlink" title="安装基础软件"></a>安装基础软件</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pacstrap /mnt base linux linux-firmware<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="生成fstab"><a href="#生成fstab" class="headerlink" title="生成fstab"></a>生成fstab</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">genfstab -U /mnt <span class="token operator">&gt;&gt;</span> /mnt/etc/fstab<span class="token function">cat</span> /etc/fstab<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="切根"><a href="#切根" class="headerlink" title="切根"></a>切根</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">arch-chroot /mnt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="设置时区"><a href="#设置时区" class="headerlink" title="设置时区"></a>设置时区</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ln</span> -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtimehwclock --systohc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="本地化"><a href="#本地化" class="headerlink" title="本地化"></a>本地化</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">locale-gen<span class="token builtin class-name">echo</span> <span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>en_US.UTF-8 <span class="token operator">&gt;</span> /etc/locale.conf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> archlinux <span class="token operator">&gt;</span> /etc/hostname<span class="token function">cat</span> <span class="token operator">&gt;&gt;</span> /etc/hosts <span class="token operator">&lt;&lt;</span><span class="token string">EOF127.0.0.1   localhost::1         localhost127.0.1.1archlinux.localdomain   archlinuxEOF</span>pacman -S dhclient<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="root-密码"><a href="#root-密码" class="headerlink" title="root 密码"></a>root 密码</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">passwd</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="创建普通用户"><a href="#创建普通用户" class="headerlink" title="创建普通用户"></a>创建普通用户</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">useradd</span> -m angusrobotpassword angusrobot<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>交互输入设置用户密码</p><h3 id="安装引导程序"><a href="#安装引导程序" class="headerlink" title="安装引导程序"></a>安装引导程序</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">grub-install --target<span class="token operator">=</span>i386-pc /dev/sda<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>这里注意我没有创建efi分区，并且grub是直接安装在硬盘的，不是sda1/sda2。</p><h3 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">exit</span><span class="token function">umount</span> -R /mnt<span class="token function">shutdown</span> -h now<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>移除虚拟机光驱，设置硬盘第一启动顺位，启动虚拟机，使用root登入。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://wiki.archlinux.org/index.php/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">archlinux安装指导</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="posts/4a17b156.html"/>
      <url>posts/4a17b156.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
